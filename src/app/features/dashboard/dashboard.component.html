<div class="dashboard-container">
  <h1>FX Dashboard</h1>

  <app-offline-indicator></app-offline-indicator>

  <div class="converter-wrapper">
    <nz-card class="fx-card">
      <div class="card-title">
        <h2>Currency Converter</h2>
      </div>
      <app-currency-converter
        [currencies]="currencies"
        [isLoadingCurrencies]="isLoadingCurrencies"
      >
      </app-currency-converter>
    </nz-card>
  </div>

  <div class="main-content">
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="6" class="currency-column">
        <nz-card class="fx-card">
          <div class="card-title">
            <h2>Current Exchange Rates</h2>
          </div>

          <app-exchange-rates-table
            [baseCurrency]="baseCurrency"
            [selectedCurrencies]="selectedCurrencies"
            [currencies]="currencies"
            [isLoadingCurrencies]="isLoadingCurrencies"
            (baseCurrencyChange)="onBaseCurrencyChange($event)"
            (currencySelected)="toggleCurrencySelection($event)"
          >
          </app-exchange-rates-table>
        </nz-card>
      </div>

      <div nz-col [nzSpan]="18">
        <nz-card class="fx-card">
          <div class="card-title">
            <h2>Historical Data</h2>
          </div>

          <app-historical-chart
            [baseCurrency]="baseCurrency"
            [selectedCurrencies]="selectedCurrencies"
          >
          </app-historical-chart>
        </nz-card>
      </div>
    </div>
  </div>

  <div *ngIf="false" style="margin-top: 20px; font-size: 12px; color: #888">
    <p>Debug info: Selected currencies: {{ selectedCurrencies | json }}</p>
    <p>Base currency: {{ baseCurrency }}</p>
  </div>
</div>
